'use strict';

var currify = require('currify/legacy');
var assign = Object.assign;

var bindKeys = currify(function (fn, array, value, i) {
    return fn(array[i], value);
});

var objectify = function (key, value) {
    var obj;

    return (( obj = {}, obj[key] = value, obj ));
};

module.exports = function (keys, values) {
    check(keys, values);
    
    var keyValues = values.map(bindKeys(objectify, keys));
    return assign.apply(void 0, keyValues);
};

function check(keys, values) {
    if (!Array.isArray(keys))
        { throw Error('keys should be an array!'); }
    
    if (!Array.isArray(values))
        { throw Error('values should be an array!'); }
    
    if (values.length !== keys.length)
        { throw Error('length of keys and values should be equal!'); }
}

